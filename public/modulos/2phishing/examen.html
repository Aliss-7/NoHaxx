<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Respuesta a Incidentes - NoHaxx</title>
    <link rel="stylesheet" href="../../CSS/base.css">
    <link rel="stylesheet" href="../../CSS/examenes.css">

</head>
<body>
    <header>
        <div class="logo">NoHaxx</div>
        <div class="top-buttons">
            <a href="../../Pantallas/modulos.html" class="boton-salir">Abandonar</a>
        </div>
    </header>

    <main class="main-content">
        <span class="progress-text" id="step-counter" style="font-weight: bold; display:block; margin-bottom:10px;">Misi칩n 1 de 10</span>

        <div class="desktop-shell">
            
            <div class="examen-step active" id="q-0">
                <h2>Caso 1: Notificaci칩n Urgente</h2>
                <div class="window-sim">
                    <div class="window-header">Outlook Corporativo</div>
                    <div style="padding:15px;">
                        <strong>De:</strong> Soporte &lt;seguridad@noreply-nohaxx.net&gt;<br>
                        <strong>Asunto:</strong> 춰ACCESO BLOQUEADO! Verifique su identidad
                        <hr>
                        <p>Su cuenta ser치 desactivada en 15 minutos por actividad inusual. Haga clic aqu칤 para evitarlo.</p>
                    </div>
                </div>
                <p>쯈u칠 decisi칩n tomas?</p>
                <div class="action-grid">
                    <button class="btn-quiz" onclick="recordAnswer(0, 'a')">Reportar: La urgencia extrema y el dominio .net son se침ales claras de Phishing.</button>
                    <button class="btn-quiz" onclick="recordAnswer(0, 'b')">Acceder: Debo evitar que mi cuenta sea bloqueada.</button>
                </div>
            </div>

            <div class="examen-step" id="q-1">
                <h2>Caso 2: El Analista de URLs</h2>
                <div class="info-box">
                    <strong>쯈u칠 es una Base de Datos Reputacional?</strong> Es un sitio como <strong>VirusTotal</strong> que recopila informaci칩n de miles de empresas de seguridad. Al poner una URL, nos dice si otros ya la han marcado como peligrosa.
                </div>
                <p>Analiza esta URL sospechosa: <code>http://login-verificar-perfil.xyz/seguridad</code></p>
                
                <div class="window-sim">
                    <div class="window-header" style="background:#0070f3;">Simulador de VirusTotal</div>
                    <div class="vt-body">
                        <div class="vt-input-area">
                            <input type="text" id="vt-input" class="vt-input" placeholder="Pegue la URL sospechosa aqu칤...">
                            <button class="boton" onclick="runVTScan()">Escanear</button>
                        </div>
                        <div id="vt-result" style="display:none; color:red; font-weight:bold;">
                            游뛀 RESULTADO: 60/70 motores marcan este sitio como MALICIOSO.
                        </div>
                    </div>
                </div>
                <div id="vt-actions" style="display:none;" class="action-grid">
                    <button class="btn-quiz" onclick="recordAnswer(1, 'a')">Reportar: El an치lisis confirma que es una web de Phishing.</button>
                    <button class="btn-quiz" onclick="recordAnswer(1, 'b')">Ignorar: Conf칤o en que el navegador la bloquear치.</button>
                </div>
            </div>

            <div class="examen-step" id="q-2">
                <h2>Caso 3: SMS de Paqueter칤a</h2>
                <div class="window-sim" style="max-width:300px; margin: 0 auto;">
                    <div class="window-header" style="background:#333;">Mensaje Nuevo</div>
                    <div style="padding:15px; background:#e5e5ea; border-radius:10px; margin:10px;">
                        [CORREOS] Falta el n칰mero de calle para su entrega. Actualice aqu칤: <strong>bit.ly/envio-pendiente</strong>
                    </div>
                </div>
                <div class="action-grid">
                    <button class="btn-quiz" onclick="recordAnswer(2, 'a')">Acceder: Estoy esperando un paquete y no quiero que lo devuelvan.</button>
                    <button class="btn-quiz" onclick="recordAnswer(2, 'b')">Ignorar: Es una estafa; Correos no usa enlaces bit.ly para pedir datos.</button>
                </div>
            </div>

            <div class="examen-step" id="q-3">
                <h2>Caso 4: Cambio de Contrase침a Real</h2>
                <div class="window-sim">
                    <div class="window-header">Portal Interno NoHaxx</div>
                    <div style="padding:15px;">
                        <p>Tu contrase침a corporativa caduca en 5 d칤as. C치mbiala en el portal de autoservicio oficial: <strong>https://portal.nohaxx.com/seguridad</strong></p>
                    </div>
                </div>
                <div class="action-grid">
                    <button class="btn-quiz" onclick="recordAnswer(3, 'a')">Realizar el cambio: La URL es el dominio oficial HTTPS de la empresa.</button>
                    <button class="btn-quiz" onclick="recordAnswer(3, 'b')">Reportar: Ning칰n sistema deber칤a pedirme cambiar la contrase침a por correo.</button>
                </div>
            </div>

            <div class="examen-step" id="q-4">
                <h2>Caso 5: Llamada de "T칠cnico"</h2>
                <p>Llamada: "Hola, soy de Microsoft. Tu IP est치 infectada. Necesito que me dicte el c칩digo SMS que te he enviado para desinfectar tu red".</p>
                <div class="action-grid">
                    <button class="btn-quiz" onclick="recordAnswer(4, 'a')">Colgar: Las empresas nunca llaman para pedir c칩digos de seguridad personales.</button>
                    <button class="btn-quiz" onclick="recordAnswer(4, 'b')">Colaborar: Si es de Microsoft, debe ser verdad.</button>
                </div>
            </div>

            <div class="examen-step" id="q-5">
                <h2>Caso 6: El Favor del CEO</h2>
                <p>Un correo de tu director te pide una transferencia urgente y confidencial para un nuevo cliente. Dice que "no llames a nadie por discreci칩n".</p>
                <div class="action-grid">
                    <button class="btn-quiz" onclick="recordAnswer(5, 'a')">Obedecer: Es mi superior y la operaci칩n es discreta.</button>
                    <button class="btn-quiz" onclick="recordAnswer(5, 'b')">Desconfiar: Es el "Fraude del CEO", usa la jerarqu칤a y el secreto para enga침ar.</button>
                </div>
            </div>

            <div class="examen-step" id="q-6">
                <h2>Caso 7: Invitaci칩n a Reuni칩n</h2>
                <div class="window-sim">
                    <div class="window-header">Microsoft Teams</div>
                    <div style="padding:15px;">
                        <strong>Juan P칠rez</strong> te ha invitado a una reuni칩n:<br>
                        <em>"Revisi칩n de objetivos"</em><br>
                        Enlace: <strong>https://teams.microsoft.com/l/meetup-join/123...</strong>
                    </div>
                </div>
                <div class="action-grid">
                    <button class="btn-quiz" onclick="recordAnswer(6, 'a')">Aceptar: Es un enlace oficial de Teams y un compa침ero conocido.</button>
                    <button class="btn-quiz" onclick="recordAnswer(6, 'b')">Reportar: No conf칤o en ning칰n enlace de reuni칩n externo.</button>
                </div>
            </div>

            <div class="examen-step" id="q-7">
                <h2>Caso 8: Error en URL</h2>
                <p>Entras a una web y la direcci칩n es <code>https://www.g0ogle.com</code> (con un cero). 쯈u칠 est치 pasando?</p>
                <div class="action-grid">
                    <button class="btn-quiz" onclick="recordAnswer(7, 'a')">Typosquatting: Usar caracteres similares para enga침ar al ojo.</button>
                    <button class="btn-quiz" onclick="recordAnswer(7, 'b')">Spear Phishing: Ataque dirigido a un departamento concreto.</button>
                </div>
            </div>

            <div class="examen-step" id="q-8">
                <h2>Caso 9: Investigaci칩n de Campo</h2>
                <p>Has recibido un correo de "Seguridad Microsoft". Antes de decidir, <strong>pasa el rat칩n (o mant칠n pulsado) sobre el enlace</strong> para inspeccionarlo.</p>
                
                <div class="window-sim">
                    <div class="window-header">Bandeja de Entrada</div>
                    <div class="interactive-mail">
                        <p>Su sesi칩n ha expirado en la regi칩n de Europa. Por favor, vuelva a conectarse para evitar el cierre de sesi칩n:</p>
                        <a class="hover-link" onmouseover="showUrl(true)" onmouseout="showUrl(false)">RECONECTAR CUENTA AHORA</a>
                        <div id="url-tooltip-9" class="url-tooltip">Destino: http://microsoft.login-update-server.net/verify</div>
                    </div>
                </div>
                
                <div class="action-grid">
                    <button class="btn-quiz" onclick="recordAnswer(8, 'a')">REPORTAR: El enlace real no va a microsoft.com, sino a un servidor .net externo.</button>
                    <button class="btn-quiz" onclick="recordAnswer(8, 'b')">RECONECTAR: El texto dice que es para evitar el cierre de sesi칩n.</button>
                </div>
            </div>

            <div class="examen-step" id="q-9">
                <h2>Caso 10: Seguridad Diaria</h2>
                <p>Ante una duda de seguridad real en tu puesto de trabajo, 쯤u칠 debes aplicar?</p>
                <div class="action-grid">
                    <button class="btn-quiz" onclick="recordAnswer(9, 'a')">PARA, MIRA y LLAMA por un canal oficial conocido.</button>
                    <button class="btn-quiz" onclick="recordAnswer(9, 'b')">Confiar en los filtros de seguridad y hacer clic r치pido.</button>
                </div>
            </div>

            <div class="examen-step" id="step-final">
                <h1>Simulaci칩n Finalizada</h1>
                <p id="final-stats" style="font-size:1.4rem; font-weight:bold;"></p>
                <div id="firebase-msg"></div>
            </div>

        </div>
    </main>

    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
    <script src="../../scripts/firebase-config.js"></script>

    <script src="../../scripts/examen_phishing.js"></script>

</body>
</html>