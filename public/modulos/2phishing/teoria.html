<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MÃ³dulo 2: Phishing - NoHaxx</title>
  <link rel="stylesheet" href="../../style.css">
</head>
<body>
  <header>
    <div class="logo">NoHaxx</div>
    <div class="top-buttons">
      <a href="../../modulos.html">Salir del MÃ³dulo</a>
    </div>
  </header>

  <div class="lms-container">
    <aside class="lms-sidebar">
      <h3>ğŸ“‘ Ãndice: Phishing</h3>
      <div class="lms-menu-item unlocked active" id="menu-0">1. DefiniciÃ³n TÃ©cnica</div>
      <div class="lms-menu-item" id="menu-1">2. AnatomÃ­a del EngaÃ±o</div>
      <div class="lms-menu-item" id="menu-2">3. Vectores de Ataque</div>
      <div class="lms-menu-item" id="menu-3">4. PrÃ¡ctica: Hovering</div>
      <div class="lms-menu-item" id="menu-4">5. ConclusiÃ³n</div>
    </aside>

    <main class="lms-content">

      <div class="course-step active">
        <h2>1. Â¿QuÃ© es realmente el Phishing?</h2>
        <p>En tÃ©rminos de ciberseguridad, el Phishing no es solo "un correo falso". Es un ataque basado en la 
          <span class="tooltip" data-tooltip="TÃ©cnica de manipulaciÃ³n psicolÃ³gica que explota errores humanos para obtener informaciÃ³n privada.">IngenierÃ­a Social</span> 
          que utiliza la suplantaciÃ³n de identidad o 
          <span class="tooltip" data-tooltip="Spoofing: El acto de disfrazar una comunicaciÃ³n de una fuente desconocida como si fuera de una fuente conocida y confiable.">Spoofing</span>.
        </p>
        
        <div class="definition-box" style="border-left-color: #0f1e40; background-color: #e8eaf6;">
          "Un intento fraudulento de obtener informaciÃ³n sensible (credenciales, datos bancarios) haciÃ©ndose pasar por una entidad confiable en una comunicaciÃ³n electrÃ³nica." â€” INCIBE
        </div>

        <button class="btn-reveal" onclick="revelar('bloque-extra-1', this)">
          Â¿Por quÃ© sigue funcionando hoy en dÃ­a? ğŸ‘‡
        </button>

        <div id="bloque-extra-1" style="display:none;" class="reveal-content">
          <p>A diferencia de un virus que ataca al software, el Phishing ataca al <strong>"Sistema Operativo Humano"</strong>.</p>
          <ul style="text-align: left; background: #fff; padding: 20px 40px; border-radius: 8px; border: 1px solid #ccc;">
            <li>ğŸ§  <strong>Sesgo de Autoridad:</strong> Tendemos a obedecer correos que parecen venir de un "Jefe" o un "Banco".</li>
            <li>âš¡ <strong>Urgencia:</strong> El miedo a perder una cuenta o no recibir un paquete anula nuestro pensamiento crÃ­tico.</li>
          </ul>
          <p style="text-align:center; margin-top:20px; color:#0f1e40; font-weight:bold;">ContinÃºa para aprender a detectarlo.</p>
        </div>
      </div>

      <div class="course-step">
        <h2>2. AnatomÃ­a de un Ataque</h2>
        <p>Los analistas de seguridad identifican tres indicadores de compromiso (IoC) comunes. EncuÃ©ntralos en este ejemplo:</p>
        
        <div id="activity-2">
          <div class="interactive-item" onclick="checkItem(2,this)">
            <strong>ğŸš© ManipulaciÃ³n Emocional (Urgencia):</strong> "Â¡AcciÃ³n requerida en 24h o su cuenta serÃ¡ eliminada!"
          </div>
          <div class="interactive-item" onclick="checkItem(2,this)">
            <strong>ğŸš© Spoofing de Dominio:</strong> El remitente dice "Soporte Microsoft", pero el correo es <code>admin@micro-soft-security.tk</code>.
          </div>
          <div class="interactive-item" onclick="checkItem(2,this)">
            <strong>ğŸš© Payload Malicioso:</strong> Un enlace o archivo adjunto diseÃ±ado para ejecutar cÃ³digo o robar datos.
          </div>
        </div>
      </div>

      <div class="course-step">
        <h2>3. Vectores de Ataque (Variantes)</h2>
        <p>El phishing evoluciona adaptÃ¡ndose a nuevas tecnologÃ­as. Haz clic para conocer las variantes mÃ¡s peligrosas:</p>
        
        <div class="tarjetas-container" style="display:flex; gap:15px; flex-wrap:wrap;">
          <div class="card-interactiva" onclick="checkCard(3,this)">
            <h4>ğŸ“± Smishing</h4>
            <p>Phishing vÃ­a <strong>SMS</strong>. Muy efectivo porque confiamos mÃ¡s en el mÃ³vil que en el PC. (Ej: Paquetes de Correos falsos).</p>
          </div>
          <div class="card-interactiva" onclick="checkCard(3,this)">
            <h4>ğŸ“ Vishing</h4>
            <p>Phishing por <strong>Voz</strong> (Voice). Llamadas fraudulentas suplantando a tÃ©cnicos o entidades bancarias.</p>
          </div>
          <div class="card-interactiva" onclick="checkCard(3,this)">
            <h4>ğŸ¯ Spear Phishing</h4>
            <p>Ataque <strong>dirigido</strong>. El atacante investiga a la vÃ­ctima (RRSS, LinkedIn) para personalizar el mensaje y hacerlo creÃ­ble.</p>
          </div>
        </div>
      </div>

      <div class="course-step">
        <h2>4. AnÃ¡lisis Forense: TÃ©cnica "Hovering"</h2>
        <p>La defensa mÃ¡s efectiva es inspeccionar la <span class="tooltip" data-tooltip="Uniform Resource Locator: La direcciÃ³n web exacta. Ejemplo: https://www.google.com">URL</span> de destino antes de hacer clic.</p>
        <p><strong>Ejercicio:</strong> Pasa el cursor sobre el enlace para revelar el destino real oculto.</p>
        
        <div class="email-simulacion">
          <p><strong>De:</strong> Seguridad Corporativa<br><strong>Asunto:</strong> Cambio de credenciales obligatorio</p>
          <hr>
          <p>Estimado usuario,</p>
          <p>Su contraseÃ±a caduca hoy. Para evitar el bloqueo, acceda al portal:</p>
          <p>
            <span class="fake-link" onmouseover="unlockStep(4)">
              ğŸ‘‰ https://portal-empresa.com/login
            </span>
          </p>
        </div>
        <p id="msg-hover" style="color:green; display:none; font-weight:bold;">âœ… Â¡Detectado! La URL real no coincide con el texto.</p>
      </div>

      <div class="course-step">
        <h2>5. Resumen Ejecutivo</h2>
        <p>El Phishing es la puerta de entrada para ataques mÃ¡s graves como el Ransomware. La verificaciÃ³n es tu mejor defensa.</p>
        
        <div class="video-box">
          <h4>ğŸ“º VÃ­deo Oficial OSI (2 min)</h4>
          <p>Repaso de conceptos clave por la Oficina de Seguridad del Internauta:</p>
          <div class="video-responsive">
            <iframe src="https://www.youtube.com/embed/p0m5f5-pMZI" title="QuÃ© es el Phishing - OSI" allowfullscreen></iframe>
          </div>
        </div>

        <p style="margin-top:20px">Completa el examen para demostrar tu competencia.</p>
      </div>

      <div class="navigation-buttons">
        <button class="btn-nav btn-prev" id="prevBtn" onclick="changeStep(-1)">Anterior</button>
        <div style="display:flex;align-items:center;">
          <span id="bloqueo-msg" class="instruccion-bloqueo">âš ï¸ Completa la actividad</span>
          <button class="btn-nav btn-next" id="nextBtn" onclick="changeStep(1)">Siguiente âœ</button>
        </div>
        <a href="examen.html" class="btn-finish" id="finishBtn">Ir al Examen</a>
      </div>

    </main>
  </div>

  <script>
    let currentStep = 0;
    const totalSteps = 5;
    let stepUnlocked = [true, false, false, false, true]; 
    let itemsClicked = 0;
    let cardsClicked = 0;

    const steps = document.querySelectorAll('.course-step');
    const menuItems = document.querySelectorAll('.lms-menu-item');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const finishBtn = document.getElementById('finishBtn');
    const bloqueoMsg = document.getElementById('bloqueo-msg');

    function updateUI() {
      steps.forEach((step, index) => {
        step.classList.remove('active');
        menuItems[index].classList.remove('active');
        
        if (index < currentStep) menuItems[index].classList.add('completed');
        
        if (index <= currentStep || stepUnlocked[index-1]) {
           menuItems[index].classList.add('unlocked');
           menuItems[index].onclick = () => goToStep(index);
        } else {
           menuItems[index].onclick = null;
        }
      });

      steps[currentStep].classList.add('active');
      menuItems[currentStep].classList.add('active');

      prevBtn.style.visibility = (currentStep === 0) ? 'hidden' : 'visible';

      if (currentStep === totalSteps - 1) {
        nextBtn.style.display = 'none';
        finishBtn.style.display = 'inline-block';
        bloqueoMsg.style.display = 'none';
      } else {
        nextBtn.style.display = 'inline-block';
        finishBtn.style.display = 'none';
        
        if (stepUnlocked[currentStep]) {
            nextBtn.disabled = false;
            bloqueoMsg.style.display = 'none';
        } else {
            nextBtn.disabled = true;
            bloqueoMsg.style.display = 'block';
        }
      }
    }

    function changeStep(n) {
      if (n === 1 && !stepUnlocked[currentStep]) return;
      currentStep += n;
      if (currentStep >= totalSteps) currentStep = totalSteps - 1;
      if (currentStep < 0) currentStep = 0;
      updateUI();
    }

    function goToStep(n) {
      if (n > 0 && !stepUnlocked[n-1] && n > currentStep) return;
      currentStep = n;
      updateUI();
    }

    function unlockStep(index) {
      if (!stepUnlocked[index]) {
        stepUnlocked[index] = true;
        updateUI();
      }
    }

    // --- REVELADO PROGRESIVO ---
    function revelar(id, boton) {
      const bloque = document.getElementById(id);
      bloque.style.display = "block"; 
      boton.style.display = "none";   
      bloque.scrollIntoView({ behavior: "smooth", block: "start" });
    }

    // --- ACTIVIDADES ---
    function checkItem(i,el){
      if(!el.classList.contains('checked')){
        el.classList.add('checked'); 
        itemsClicked++; 
        if(itemsClicked>=3) unlockStep(i);
      }
    }
    
    function checkCard(i,el){
      if(!el.classList.contains('visto')){
        el.classList.add('visto'); 
        cardsClicked++; 
        if(cardsClicked>=3) unlockStep(i);
      }
    }

    updateUI();
  </script>
</body>
</html>