<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Introducción - NoHaxx</title>

  <link rel="stylesheet" href="../../CSS/base.css">
  <link rel="stylesheet" href="../../CSS/examenes.css">
</head>
<body>
  <header>
    <div class="logo">NoHaxx</div>
    <div class="top-buttons">
      <a href="../../Pantallas/modulos.html">Salir (Sin guardar)</a>
    </div>
  </header>

  <main class="main-content">
    
    <div class="progress-container">
      <div class="progress-bar" id="progress-bar"></div>
    </div>

    <div class="exam-step active" id="q1">
      <span class="tag">Pregunta 1/6</span>
      <h2>Estás protegiendo los <strong>papeles confidenciales</strong> guardados en un archivador físico bajo llave en la oficina.</h2>
      <p>¿Qué normativa o concepto se aplica aquí?</p>
      
      <div class="option-grid" id="opt-q1">
        <div class="option-card" onclick="selectOption(1, 'a', this)">
          <strong>Ciberseguridad</strong>
          <p>ISO/IEC 27032</p>
        </div>
        <div class="option-card" onclick="selectOption(1, 'b', this)">
          <strong>Seguridad de la Información</strong>
          <p>ISO 27001</p>
        </div>
      </div>
      <button class="btn-next-question" onclick="nextQuestion(1)">Confirmar</button>
    </div>

    <div class="exam-step" id="q2">
      <span class="tag">Pregunta 2/6</span>
      <h2>Un hospital sufre un ataque. Los historiales médicos <strong>no han sido robados</strong> (nadie los ha leído) y <strong>son correctos</strong> (no han cambiado datos).</h2>
      <p>Sin embargo, los médicos <strong>no pueden abrir el sistema</strong> para consultarlos. 
      <h3>¿Qué pilar ha caído?</h3>
      
      <div class="option-grid" id="opt-q2">
        <div class="option-card" onclick="selectOption(2, 'a', this)">
          <h3>Confidencialidad</h3>
        </div>
        <div class="option-card" onclick="selectOption(2, 'b', this)">
          <h3>Integridad</h3>
        </div>
        <div class="option-card" onclick="selectOption(2, 'c', this)">
          <h3>Disponibilidad</h3>
        </div>
      </div>
      <button class="btn-next-question" onclick="nextQuestion(2)">Confirmar</button>
    </div>

    <div class="exam-step" id="q3">
      <span class="tag">Pregunta 3/6</span>
      <h2>La web de un ministerio ha sido modificada. Ahora muestra mensajes de <strong>protesta política</strong> contra una nueva ley climática. No piden dinero.</h2>
      <p>¿Quién está detrás?</p>

      <div class="option-grid" id="opt-q3">
        <div class="option-card" onclick="selectOption(3, 'a', this)">
          <div style="font-size: 2rem;"><strong>Cibercrimen</strong></div>
        </div>
        <div class="option-card" onclick="selectOption(3, 'b', this)">
          <div style="font-size: 2rem;"><strong>Hacktivismo</strong></div>
        </div>
        <div class="option-card" onclick="selectOption(3, 'c', this)">
          <div style="font-size: 2rem;"><strong>Ciberespionaje</strong></div>
        </div>
      </div>
      <button class="btn-next-question" onclick="nextQuestion(3)">Confirmar</button>
    </div>

    <div class="exam-step" id="q4">
      <span class="tag">Pregunta 4/6</span>
      <h2>¿Qué tipo de amenaza consiste en <strong>cifrar</strong> tus datos y exigir un pago para devolvértelos?</h2>

      <div class="option-grid" id="opt-q4">
        <div class="option-card" onclick="selectOption(4, 'a', this)">
          <h3>DDoS</h3>
          <p>Denegación de Servicio</p>
        </div>
        <div class="option-card" onclick="selectOption(4, 'b', this)">
          <h3>Phishing</h3>
          <p>Ingeniería Social</p>
        </div>
        <div class="option-card" onclick="selectOption(4, 'c', this)">
          <h3>Ransomware</h3>
          <p>Secuestro de datos</p>
        </div>
      </div>
      <button class="btn-next-question" onclick="nextQuestion(4)">Confirmar</button>
    </div>

    <div class="exam-step" id="q5">
      <span class="tag">Pregunta 5/6</span>
      <h2>Si proteges la <strong>Identidad Digital</strong> de los ciudadanos para evitar fraudes y garantizar elecciones limpias, ¿a qué ODS contribuyes?</h2>
      <div class="option-grid" id="opt-q5">
        <div class="option-card" onclick="selectOption(5, 'a', this)">
          <div style="color:#fd6925; font-size: 2rem; font-weight:bold;">ODS 9</div>
          Industria e Innovación
        </div>
        <div class="option-card" onclick="selectOption(5, 'b', this)">
          <div style="color:#00689d; font-size: 2rem; font-weight:bold;">ODS 16</div>
          Paz, Justicia e Instituciones
        </div>
      </div>
      <button class="btn-next-question" onclick="nextQuestion(5)">Confirmar</button>
    </div>

    <div class="exam-step" id="q6">
      <span class="tag">Pregunta 6/6</span>
      <h2>Analiza esta situación y detecta el error:</h2>
      <blockquote style="background:#f9f9f9; padding:15px; border-left:4px solid #f44336; font-style:italic;">
        "Juan ha hecho backup de sus archivos importantes. Para no perder el disco duro externo, lo ha dejado <strong>conectado siempre</strong> al puerto USB de su ordenador."
      </blockquote>
      <p>¿Es esto una buena práctica?</p>

      <div class="option-grid" id="opt-q6">
        <div class="option-card" onclick="selectOption(6, 'a', this)">
          <strong>SÍ</strong>. Así la copia es automática y rápida.
        </div>
        <div class="option-card" onclick="selectOption(6, 'b', this)">
          <strong>NO</strong>. Si entra un Ransomware, cifrará también la copia conectada.
        </div>
      </div>
      <button class="btn-next-question" onclick="nextQuestion(6)">Confirmar</button>
    </div>

    <div class="exam-step" id="final-screen" style="text-align: center;">
      <h2>Resultados del test</h2>
      <div id="loading-results">Calculando nota...</div>
      
      <div id="results-content" style="display:none;">
        <div class="score-circle">
          <span id="final-score">0</span>
          <span class="score-label">Puntos</span>
        </div>
        <h3 id="final-msg"></h3>
        <p id="final-detail"></p>
        
        <div style="margin-top:30px;">
          <button onclick="location.reload()" class="boton" id="btn-retry" style="display:none; background:#f44336; color:white; border:none;">Reintentar</button>
          <a href="../../Pantallas/modulos.html" class="boton" id="btn-continue" style="display:none;">Volver a Módulos</a>
        </div>
      </div>
    </div>

  </main>

  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>

  <script src="../../scripts/firebase-config.js"></script>
  <script src="../../scripts/examen_intro.js"></script>

</body>
</html>