<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Módulo 5: Contraseñas Seguras - NoHaxx</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="../../CSS/base.css">
  <link rel="stylesheet" href="../../CSS/teoria.css">

</head>
<body style="display: none;">
  <header>
      <div class="logo">NoHaxx</div>
      <div class="top-buttons">
      <a href="../../Pantallas/modulos.html" style="background-color: #eee; color: #333;">Volver a Módulos</a>
      </div>
  </header>

  <div class="lms-container">
    <aside class="lms-sidebar">
      <h3>Gestión de Credenciales</h3>
      <div class="lms-menu-item unlocked active" id="menu-0">1. Contraseña Segura</div>
      <div class="lms-menu-item" id="menu-1">2. Laboratorio de Fortaleza</div>
      <div class="lms-menu-item" id="menu-2">3. Autenticación (2FA)</div> 
      <div class="lms-menu-item" id="menu-3">4. Gestores de Contraseñas</div>
      <div class="lms-menu-item" id="menu-4">5. Errores Comunes</div>
      <div class="lms-menu-item" id="menu-5">6. Verificación de Fugas</div>
      <div class="lms-menu-item" id="menu-6">7. Respuesta a Incidentes</div>
      <div class="lms-menu-item" id="menu-7">8. Síntesis Completa</div>
    </aside>

    <main class="lms-content">

      <div class="course-step active" id="step-0">
        <h2>Contraseña Segura</h2>
        <div class="concept-card">
          <p>Las contraseñas son lo que separa a un cibercriminal de tu dinero, tus correos y tu identidad.<br>
            Sin embargo, seguimos usando "123456" porque es fácil de recordar.</p>
        </div>
        <p>El concepto clave no es la complejidad humana, sino la 
          <span class="tooltip" data-tooltip="Medida matemática de aleatoriedad. Cuanto mayor es la entropía, más difícil es para una máquina adivinar la clave.">
            Entropía.
          </span>
        </p>
        <button class="btn-reveal required-interaction" onclick="revelar('bloque-entropia', this)">¿Qué hace segura a una contraseña?</button>
        <div id="bloque-entropia" style="display:none;" class="reveal-content">
            <ul style="list-style: none; padding: 0;">
              <li style="margin-bottom: 10px; padding: 15px; background: #e3f2fd; border-left: 5px solid #2196f3;">
                <strong>Longitud > Complejidad:</strong> Una frase larga (<em>"CaballoBateriaGrapaCorrecto"</em>) es matemáticamente más difícil de romper que una corta compleja (<em>"P@ssw0rd"</em>).
              </li>
              <li style="padding: 15px; background: #fff3e0; border-left: 5px solid #ff9800;">
                <strong>Impredictibilidad:</strong> Somos pésimos siendo aleatorios. Evita patrones de teclado (QWERTY), fechas o nombres de mascotas.
              </li>
            </ul>
        </div>
      </div>

      <div class="course-step" id="step-1">
        <h2>Calidad vs Cantidad</h2>
        <p>¿Por qué una frase larga es mejor que una contraseña corta y "rara"?</p>
        
        <div style="display:flex; gap:20px; margin-bottom:20px; flex-wrap:wrap;">
            <div class="concept-card" style="flex:1; border-left-color:#f44336;">
                <h3>Complejidad Tradicional</h3>
                <p><code>Tr0ub4dor&3</code></p>
                <ul style="font-size:0.9rem;">
                    <li>Difícil de recordar para humanos.</li>
                    <li>Fácil de romper para ordenadores (28 bits de entropía).</li>
                    <li><strong>Tiempo de hackeo: 3 días.</strong></li>
                </ul>
            </div>
            <div class="concept-card" style="flex:1; border-left-color:#00b894;">
                <h3>Frase de Paso</h3>
                <p><code>caballo bateria grapa correcto</code></p>
                <ul style="font-size:0.9rem;">
                    <li>Fácil de recordar (puedes visualizarlo).</li>
                    <li>Muy difícil para ordenadores (44 bits de entropía).</li>
                    <li><strong>Tiempo de hackeo: 550 años.</strong></li>
                </ul>
            </div>
        </div>
        <p>Cada letra extra que añades a tu contraseña <strong>multiplica</strong> exponencialmente la dificultad para el atacante.</p>
        <button class="btn-reveal required-interaction" onclick="revelar('bloque-deep', this)">Ver la Matemática</button>
        <div id="bloque-deep" style="display:none;" class="reveal-content">
            <div style="background:#3c4446; color:white; padding:15px; border-radius:5px; font-family:monospace; margin-bottom:10px;">
                <p>Combinaciones posibles:</p>
                <p>▶ 8 caracteres (a-z, 0-9) = 2.8 Billones</p>
                <p>▶ 12 caracteres (a-z, 0-9) = 4.7 Trillones</p>
            </div>
            <p>¡Añadir 4 caracteres es mucho más efectivo que cambiar una 'a' por una '@'!</p>
        </div>
      </div>

      <div class="course-step" id="step-2">
        <h2>Laboratorio de Fuerza Bruta</h2>
        <p>Los hackers usan programas que prueban millones de claves por segundo. <br><strong>Escribe una contraseña robusta</strong> hasta que la barra se ponga VERDE para continuar.</p>
        <div class="password-tester">
            <input type="text" id="pass-input" class="pass-input" placeholder="Escribe aquí para probar..." onkeyup="checkStrength()">
            <div class="strength-bar"><div id="strength-fill" class="strength-fill"></div></div>
            <p>Tiempo estimado para hackearla: <span id="crack-time" class="crack-time">INSTANTÁNEO</span></p>
            <p id="pass-feedback" style="font-size: 0.9rem; color: #ccc; margin-top: 5px;"></p>
        </div>
        <p style="font-size:0.8rem; color:#666; margin-top:10px;">*Nota: Esto es una simulación local. Tus datos no se envían a ningún servidor.</p>
      </div>

      <div class="course-step" id="step-3">
        <h2>¿Qué es la Autenticación de Doble Factor (2FA)?</h2>
        <div class="concept-card">
            <p>Imagina que tu casa tiene dos cerraduras.<br>
              Para entrar, no basta con tener la <strong>llave</strong> (contraseña), también necesitas poner tu <strong>huella</strong> en el lector (segundo factor).</p>
        </div>
        <p>El <strong>2FA</strong> (Two-Factor Authentication) añade una capa extra de seguridad obligatoria.</p>
        <div style="display:flex; justify-content:center; align-items:center; gap:20px; margin:30px 0; background:#e3f2fd; padding:20px; border-radius:10px;">
            <div style="text-align:center;">
                <i class="fas fa-key fa-3x" style="color:#555;"></i>
            </div>
            <div style="font-size:2rem; color:#0984e3;">+</div>
            <div style="text-align:center;">
                <i class="fas fa-mobile-alt fa-3x" style="color:#0984e3;"></i>
            </div>
            <div style="font-size:2rem; color:#00b894;">=</div>
            <div style="text-align:center;">
                <i class="fas fa-lock-open fa-3x" style="color:#00b894;"></i>
            </div>
        </div>
        <div class="info-box" style="border-left-color: #2e7d32; background: #e8f5e9;">
            <h3>¿Por qué es vital?</h3>
            <p>Porque las contraseñas se roban constantemente. Si un hacker consigue tu clave de Netflix o del Banco, <strong>no podrá entrar</strong> si le falta tu teléfono para recibir el código de aprobación.</p>
        </div>
    </div>

      <div class="course-step" id="step-4">
        <h2>Tipos de Autenticación</h2>
        <p>Existen varias formas de demostrar quién eres además de la contraseña. Haz clic para descubrirlas:</p>
        <div class="technique-grid">
          <div class="tech-card required-interaction" onclick="showAuthInfo('2fa', this)">
            <h3><i class="fas fa-sms"></i> SMS / Apps</h3>
          </div>
          <div class="tech-card required-interaction" onclick="showAuthInfo('bio', this)">
            <h3><i class="fas fa-fingerprint"></i> Biometría</h3>
          </div>
          <div class="tech-card required-interaction" onclick="showAuthInfo('token', this)">
            <h3><i class="fas fa-key"></i> Tokens Físicos</h3>
          </div>
        </div>
        <div id="info-2fa" class="tech-info" style="display:none;">
          <h3>Códigos Temporales</h3>
          <p>Te llega un código por SMS o usas una App como <strong>Google Authenticator</strong>. El código cambia cada 30 segundos.</p>
        </div>
        <div id="info-bio" class="tech-info" style="display:none;">
          <h3>Biometría</h3>
          <p>Utiliza <strong>algo que eres</strong>: tu huella dactilar, tu cara (FaceID) o tu iris. Es cómodo, pero recuerda: una contraseña se puede cambiar si te la roban; tu huella no.</p>
        </div>
        <div id="info-token" class="tech-info" style="display:none;">
          <h3>Tokens de Hardware</h3>
          <p>Dispositivos físicos (como YubiKey) que debes conectar al USB para iniciar sesión. Es el nivel más alto de seguridad, usado en entornos críticos.</p>
        </div>
      </div>

      <div class="course-step" id="step-5">
        <h2>Gestor de Contraseñas</h2>
        <div class="concept-card">
            <p>Ya se ha visto que una contraseña segura debe ser <strong>larga, compleja y única</strong> para cada sitio web.<br>
            Pero seamos, realistas recordar 50 contraseñas diferentes es imposible.</p>
        </div>
        
        <div style="display:flex; align-items:center; gap:20px; margin: 30px 0; justify-content: space-around;">
            <div style="flex:1; text-align:center; padding:20px; background:#ffebee; border-radius:10px; max-width:300px;">
                <h3>Cerebro Humano</h3>
                <p>Bueno recordando historias.<br>Pésimo recordando 50 cadenas aleatorias como <code>Xy9#mP2!oL</code>.</p>
            </div>
            <div style="font-size:2rem; color:#aaa;">VS</div>
            <div style="flex:1; text-align:center; padding:20px; background:#e3f2fd; border-radius:10px; max-width:300px;">
                <h3>Gestor de Contraseñas</h3>
                <p>Genera claves perfectas.<br>Guarda todas menos 1.<br>Las escribe por ti.</p>
            </div>
        </div>

        <div class="info-box" style="border-left-color: #673ab7; background: #ede7f6;">
            <p>La solución no es esforzarte más, sino delegar. Usas una aplicación (ej, KeePass) donde guardas todas tus llaves.<br>
              Tu único trabajo es recordar <strong>UNA (Contraseña Maestra)</strong> para abrir todas las demás.</p>
        </div>
      </div>

      <div class="course-step" id="step-6">
        <h2>Los Gestores en Acción</h2>
        <p>Mira este vídeo para entender cómo funcionan estas herramientas en la práctica.</p>
        <div class="video-container">
            <div id="player-passwords"></div>
        </div>
      </div>

      <div class="course-step" id="step-7">
        <h2>Errores Comunes</h2>
        <p>Identifica las <strong>3 prácticas peligrosas</strong> en esta lista para avanzar.</p>
        <div class="errors-grid">
            <div class="error-card" onclick="checkError('reuse', this)">
                <i class="fas fa-sync fa-2x"></i><br><strong>Reutilizar Claves</strong>
                <p style="font-size:0.8rem;">Usar la misma clave para el Banco y Facebook.</p>
            </div>
            <div class="error-card" onclick="checkError('manager', this)">
                <i class="fas fa-shield-alt fa-2x"></i><br><strong>Usar Gestor</strong>
                <p style="font-size:0.8rem;">Guardar claves en una bóveda cifrada.</p>
            </div>
            <div class="error-card" onclick="checkError('postit', this)">
                <i class="fas fa-sticky-note fa-2x"></i><br><strong>El Post-it</strong>
                <p style="font-size:0.8rem;">Pegar la clave debajo del teclado.</p>
            </div>
            <div class="error-card" onclick="checkError('personal', this)">
                <i class="fas fa-dog fa-2x"></i><br><strong>Datos Personales</strong>
                <p style="font-size:0.8rem;">Usar fecha de boda o nombre de mascota.</p>
            </div>
        </div>
        <div id="error-feedback" class="feedback-box"></div>
      </div>

      <div class="course-step" id="step-8">
        <h2>¿Qué es una Brecha de Datos?</h2>
        <div class="concept-card">
            <p>Las grandes empresas como Adobe, LinkedIn, Facebook... sufren hackeos donde se roban sus bases de datos enteras. Esos archivos acaban en el mercado negro.</p>
        </div>
        
        <h3>El mito de Cambiar la contraseña</h3>
        <p>Muchos creen que basta con cambiar la contraseña <strong>después</strong> de enterarse. Pero los datos pueden llevar meses circulando.</p>
        
        <div style="background:#e3f2fd; padding:15px; border-left:5px solid #2196f3; margin:20px 0;">
            <h3>Herramientas como Have I Been Pwned</h3>
            <p>Estas webs recopilan todas esas bases de datos filtradas. Tú no buscas tu contraseña, <strong>buscas tu email</strong>. Si tu email aparece en la lista de "Adobe 2013", significa que la contraseña que usabas en Adobe ese año ya es pública.</p>
        </div>
        
        <p>El riesgo principal de todo esto es que si usaste esa misma contraseña para tu correo o tu banco... ellos también están comprometidos.</p>
      </div>

      <div class="course-step" id="step-9">
        <h2>Verificador de Fugas</h2>
        <p>Simularemos una búsqueda en una base de datos de filtraciones.</p>
        <p><strong>Instrucciones:</strong> Introduce tu correo electrónico (ej: <code>juan@test.com</code>) para ver si sus datos han sido expuestos.</p>

        <div class="leak-checker"> 
            <p>> CONECTANDO A SERVIDOR DE INTELIGENCIA...</p>
            <p>> BASE DE DATOS ACTUALIZADA: 12.000 MILLONES DE REGISTROS.</p>
            <p>> INTRODUZCA EMAIL A INVESTIGAR:</p>
            
            <div style="display:flex; align-items:center; margin-top:10px;">
                <input type="email" id="leak-email-input" class="leak-input" placeholder="usuario@dominio.com">
                <button class="btn-leak" onclick="checkLeak()">BUSCAR</button>
            </div>
            
            <div id="leak-result" class="leak-result"></div>
        </div>
        <p style="font-size:0.8rem; margin-top:10px;"><em>*Simulación educativa. Para una comprobación real de tu email, visita <a href="https://haveibeenpwned.com" target="_blank" style="color:#0984e3;">Have I Been Pwned</a>.</em></p>
      </div>

      <div class="course-step" id="step-10">
        <h2>¿Qué hacer si está filtrado?</h2>
        <p>Si descubres que tu email aparece en una filtración (o te llega un correo de alerta), <strong>no entres en pánico, pero actúa rápido</strong>.</p>
        
        <h3>Plan de Respuesta de Emergencia</h3>
        
        <div class="emergency-step">
            <strong>1. CAMBIA LA CONTRASEÑA AFECTADA</strong>
            <p>Ve inmediatamente a la web hackeada y pon una clave nueva (generada por tu Gestor).</p>
        </div>
        <div class="emergency-step">
            <strong>2. VERIFICA LA REUTILIZACIÓN</strong>
            <p>¿Usabas esa misma contraseña en otros sitios? <strong>CÁMBIALAS TODAS</strong>. Los hackers probarán esa clave en todos los servicios populares.</p>
        </div>
        <div class="emergency-step">
            <strong>3. ACTIVA EL 2FA</strong>
            <p>Si hubieras tenido el Doble Factor activado, el robo de la contraseña no habría servido de nada a los hackers.</p>
        </div>
        <div class="concept-card" style="border-left-color:red; background:#ffebee; margin-top:20px;">
            <strong>¡Cuidado!</strong> Después de una filtración grande, es común recibir emails de <em>Phishing</em> haciéndose pasar por soporte técnico para "ayudarte". No hagas clic en ellos.
        </div>
      </div>

      <div class="course-step" id="step-11">
        <h2>Síntesis y Competencias</h2>
        <div class="concept-card">
          <p>Recapitulando lo aprendido, la seguridad de tus cuentas no depende de tu memoria prodigiosa, sino de las herramientas y hábitos que implementes.</p>
        </div>

        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:20px;">
            <div class="summary-card">
                <h3>Creación de Claves</h3>
                <ul class="check-list">
                    <li>La longitud importa más que la complejidad.</li>
                    <li>Usa <strong>Frases de Paso</strong> (4+ palabras).</li>
                    <li>Evita datos personales y patrones (1234).</li>
                </ul>
            </div>
            <div class="summary-card">
                <h3>Defensa Activa</h3>
                <ul class="check-list">
                    <li>Activa siempre el <strong>2FA (Doble Factor)</strong>.</li>
                    <li>Usa un <strong>Gestor de Contraseñas</strong>.</li>
                    <li>Nunca reutilices contraseñas.</li>
                </ul>
            </div>
            <div class="summary-card" style="grid-column: span 2;">
                <h3>Gestión de Crisis</h3>
                <ul class="check-list">
                    <li>Verifica tu email en bases de datos de fugas.</li>
                    <li>Si estás filtrado: Cambia clave + Revisa reutilización.</li>
                    <li>Desconfía de correos urgentes tras una fuga.</li>
                </ul>
            </div>
        </div>

        <div style="margin-top: 30px; text-align: center;">
            <a href="examen.html" class="btn-finish" id="finishBtn">Ir al Examen Práctico</a>
        </div>
      </div>

      <div class="navigation-buttons">
        <button class="btn-nav btn-prev" id="prevBtn" onclick="changeStep(-1)">Anterior</button>
        <button class="btn-nav btn-next" id="nextBtn" onclick="tryNextStep()">Siguiente ➜</button>
      </div>

    </main>
  </div>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>

  <script src="../../scripts/firebase-config.js"></script>

  <script src="https://www.youtube.com/iframe_api"></script>
  <script src="../../scripts/teoria_contrasenas.js"></script>
  <script src="../../scripts/seguridad.js"></script>
  
</body>
</html>